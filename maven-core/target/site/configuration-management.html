<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 from src\site\apt/configuration-management.apt at 2020-09-07
 | Rendered using Apache Maven Fluido Skin 1.7
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="The Maven Team" />
    <meta name="Date-Revision-yyyymmdd" content="20200907" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Maven Core &#x2013; Maven configuration management</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.7.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script type="text/javascript" src="./js/apache-maven-fluido-1.7.min.js"></script>
    <!-- Google Analytics -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-140879-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="../../../" id="bannerLeft"><img src="../../../images/apache-maven-project.png"  alt="Maven Core"/></a></div>
        <div class="pull-right"><a href="../../../" id="bannerRight"><img src="../../../images/maven-logo-black-on-white.png"  alt=""/></a></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
      <li class=""><a href="https://www.apache.org/" class="externalLink" title="Apache">Apache</a><span class="divider">/</span></li>
      <li class=""><a href="../../../index.html" title="Maven">Maven</a><span class="divider">/</span></li>
      <li class=""><a href="../../" title="Ref">Ref</a><span class="divider">/</span></li>
      <li class=""><a href="../" title="Maven 3.7.0-SNAPSHOT">Maven 3.7.0-SNAPSHOT</a><span class="divider">/</span></li>
      <li class=""><a href="index.html" title="Maven Core">Maven Core</a><span class="divider">/</span></li>
    <li class="active ">Maven configuration management <a href="https://github.com/apache/maven/tree/master/maven-core/src\site\apt/configuration-management.apt"><img src="./images/accessories-text-editor.png" title="Edit" /></a></li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2020-09-07</li>
          <li id="projectVersion" class="pull-right">Version: 3.7.0-SNAPSHOT</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">Overview</li>
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="apidocs/index.html" title="JavaDocs"><span class="none"></span>JavaDocs</a></li>
    <li><a href="xref/index.html" title="Source Xref"><span class="none"></span>Source Xref</a></li>
      <li class="nav-header">Reference</li>
    <li><a href="lifecycles.html" title="Lifecycles"><span class="none"></span>Lifecycles</a></li>
    <li><a href="default-bindings.html" title="Plugin Bindings to Default Lifecycle"><span class="none"></span>Plugin Bindings to Default Lifecycle</a></li>
    <li><a href="artifact-handlers.html" title="Artifact Handlers"><span class="none"></span>Artifact Handlers</a></li>
    <li><a href="core-extensions.html" title="Core Extensions"><span class="none"></span>Core Extensions</a></li>
      <li class="nav-header">Parent Project</li>
    <li><a href="../index.html" title="Apache Maven"><span class="none"></span>Apache Maven</a></li>
      <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
      <li class="nav-header">Maven Projects</li>
    <li><a href="../../../archetype/index.html" title="Archetype"><span class="none"></span>Archetype</a></li>
    <li><a href="../../../resolver/index.html" title="Artifact Resolver"><span class="none"></span>Artifact Resolver</a></li>
    <li><a href="../../../doxia/index.html" title="Doxia"><span class="none"></span>Doxia</a></li>
    <li><a href="../../../jxr/index.html" title="JXR"><span class="none"></span>JXR</a></li>
    <li><a href="../../current" title="Maven"><span class="none"></span>Maven</a></li>
    <li><a href="../../../pom/index.html" title="Parent POMs"><span class="none"></span>Parent POMs</a></li>
    <li><a href="../../../plugins/index.html" title="Plugins"><span class="none"></span>Plugins</a></li>
    <li><a href="../../../plugin-testing/index.html" title="Plugin Testing"><span class="none"></span>Plugin Testing</a></li>
    <li><a href="../../../plugin-tools/index.html" title="Plugin Tools"><span class="none"></span>Plugin Tools</a></li>
    <li><a href="../../../apache-resource-bundles/index.html" title="Resource Bundles"><span class="none"></span>Resource Bundles</a></li>
    <li><a href="../../../scm/index.html" title="SCM"><span class="none"></span>SCM</a></li>
    <li><a href="../../../shared/index.html" title="Shared Components"><span class="none"></span>Shared Components</a></li>
    <li><a href="../../../skins/index.html" title="Skins"><span class="none"></span>Skins</a></li>
    <li><a href="../../../surefire/index.html" title="Surefire"><span class="none"></span>Surefire</a></li>
    <li><a href="../../../wagon/index.html" title="Wagon"><span class="none"></span>Wagon</a></li>
      <li class="nav-header">ASF</li>
    <li><a href="https://www.apache.org/foundation/how-it-works.html" class="externalLink" title="How Apache Works"><span class="none"></span>How Apache Works</a></li>
    <li><a href="https://www.apache.org/foundation/" class="externalLink" title="Foundation"><span class="none"></span>Foundation</a></li>
    <li><a href="https://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsoring Apache"><span class="none"></span>Sponsoring Apache</a></li>
    <li><a href="https://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks"><span class="none"></span>Thanks</a></li>
</ul>
<form id="search-form" action="https://www.google.com/search" method="get" >
  <input value="maven.apache.org/ref/3.7.0-SNAPSHOT/maven-core/" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript">asyncJs( 'https://cse.google.com/brand?form=search-form' )</script>
          <hr />
          <div id="poweredBy">
            <div class="clear"></div>
            <div class="clear"></div>
    <div id="twitter">
    <a href="https://twitter.com/ASFMavenProject" class="twitter-follow-button" data-show-count="false" data-align="left" data-size="medium" data-show-screen-name="true" data-lang="en">Follow ASFMavenProject</a>
    <script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
            <div class="clear"></div>
            <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<div class="section">
<h2><a name="Configuration_levels_in_maven"></a>Configuration levels in maven</h2>
<p>In maven configuration control happens on four differ levels: the site level, the group level, the project level, and the user level. On the site level you can configure maven for all users utilizing the local installation, the group level allows configuration management for all the projects that belong to the same group, the project level allows configuration management at the project level, and the user level allows users to override settings on the site level, group level and project level.</p>
<div class="section">
<h3><a name="Site_configuration"></a>Site configuration</h3>
<p>At the site level all configuration is achieved by tweaking the the various files that are available in the $<a name="maven.home">maven.home</a>/site-configuration directory</p>
<div class="source"><pre class="prettyprint linenums">${maven.home}
     |
     +--- maven.properties
</pre></div></div>
<div class="section">
<h3><a name="Group_configuration"></a>Group configuration</h3>
<p>As far as properties go for an entire build the maven.properties could be placed at the top of the group but I'm not really sure how this might work. There could probably also be a directory for plugins.xml and maven.properties.</p></div>
<div class="section">
<h3><a name="Project_configuration"></a>Project configuration</h3>
<p>At the project level all configuration is achieved by tweaking the POM. One of the differences between maven 1.x and 2.x is that all project parameterization occurs in the POM and not from properties files.</p>
<p>For many of the more advanced features in Maven2 it is critical that POMs be available in the local repository. Features like transitive dependencies and the new parent specification mechanism. The problem we run into is that currently we have information about a project scattered across the project.xml and the various properties files. What needs to be done is to encapsulate all of this in the POM.</p>
<p>Typically users parameterize the use of plugins, or have custom values like $<a name="user.name">user.name</a> for use in elements like the <i>developerConnection/</i>. It would be idea if we could encapsulate everything we need about the project in the POM including plugin parameters and anything else.</p>
<p>We once had a document that Vincent and I agreed upon and I was about to implement it and then I disappeared for 8 months so it never came to pass.</p>
<p>So I guess it's important to figure out what people are using properties files for and see if we can't incorporate it all into the POM. Or if we do have properties file (something I would like to avoid) say they don't contribute in any meaningful way to information in the POM. For example a properties file could be used the specify $ so it can be interpolated in <i>developerConnection/</i> but you couldn't use a properties file to specify the version of your project say. Anyway, food for thought to begin with.</p>
<p>- elements that are critical for pom dissemination - those that are used locally by the user like <i>developerConnection/</i></p></div>
<div class="section">
<h3><a name="User_configuration"></a>User configuration</h3>
<p>User configuration which is utilized site wide are controlled with the $<a name="user.home">user.home</a>/.m2/maven.properties.</p>
<p>User configuration which is utilized at the project level are controlled with the $<a name="project.home">project.home</a>/maven.properties file.</p></div></div>
<div class="section">
<h2><a name="Plugin_configuration"></a>Plugin configuration</h2>
<p>The configuration of plugins is of the same form as the maven <a href="#plugin-descriptors">plugin descriptors</a> themselves:</p>
<div class="source"><pre class="prettyprint linenums">&lt;plugins&gt;
  &lt;plugin&gt;
   &lt;id&gt;xdoc&lt;/id&gt;
   &lt;version&gt;1.0&lt;/version&gt;
   &lt;parameters&gt;
     &lt;parameter&gt;
       &lt;name&gt;theme&lt;/name&gt;
       &lt;value&gt;classic&lt;/value&gt;
     &lt;/parameter&gt;
   &lt;/parameters&gt;
  &lt;/plugin&gt;
&lt;/plugins&gt;
</pre></div></div>
<div class="section">
<h2><a name="Unified_source_directory"></a>Unified source directory</h2>
<p>Unified source directory structure that is analagous to the repository itself. This way locations of intermediary artifacts of a build would be in a known location. This would also help with developer setup i.e. getting new developers up and running. They could run a maven command and have all their source trees set up in the same way as their colleagues.</p>
<p>here's what I do currently in the netbeans part of the mavenide project to find the relevant subprojects/sibling projects. I check if the user has defined the maven.multiproject.includes property in any of his properties files for the current project. if yes. then I'm able to find projects that can be offered to be opened together with the current project. problems with the current solution are: 1. information is duplicate. once in POM's dependencies and once in the maven.multiproject.includes property. 2. it works without problems only for projects with relative paths, e.g., from one CVS repository.. for projects from multiple SCM repositories it's harder to maintain the same relative links on all developer computers. not sure the unified source directory structure addresses this issue.</p>
<p>Properties</p>
<p>maven.user.config.dir (system,default=$<a name="user.home">user.home</a>/.m2) maven.home (system,user,default=$<a name="user.home">user.home</a>/m2) maven.repo.local (system,user,default=$<a name="maven.user.config.dir">maven.user.config.dir</a>/repository)</p>
<p>We need to define what happens in the when things are not setup correctly</p>
<p>o ~/.m2 directory does not exist o ~/.m2/maven.properties does not exist o if they once existed but now to do not exist o what the installer will take care of of what we can recover from</p></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2001&#x2013;2020
<a href="https://www.apache.org/">The Apache Software Foundation</a>.
All rights reserved.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
