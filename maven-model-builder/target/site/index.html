<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 from src\site\apt/index.apt at 2020-09-07
 | Rendered using Apache Maven Fluido Skin 1.7
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="HervÃ© Boutemy" />
    <meta name="Date-Creation-yyyymmdd" content="20130319" />
    <meta name="Date-Revision-yyyymmdd" content="20200907" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Maven Model Builder &#x2013; Introduction</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.7.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script type="text/javascript" src="./js/apache-maven-fluido-1.7.min.js"></script>
    <!-- Google Analytics -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-140879-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="../../../" id="bannerLeft"><img src="../../../images/apache-maven-project.png"  alt="Maven Model Builder"/></a></div>
        <div class="pull-right"><a href="../../../" id="bannerRight"><img src="../../../images/maven-logo-black-on-white.png"  alt=""/></a></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
      <li class=""><a href="https://www.apache.org/" class="externalLink" title="Apache">Apache</a><span class="divider">/</span></li>
      <li class=""><a href="../../../index.html" title="Maven">Maven</a><span class="divider">/</span></li>
      <li class=""><a href="../../" title="Ref">Ref</a><span class="divider">/</span></li>
      <li class=""><a href="../" title="Maven 3.7.0-SNAPSHOT">Maven 3.7.0-SNAPSHOT</a><span class="divider">/</span></li>
      <li class=""><a href="index.html" title="Maven Model Builder">Maven Model Builder</a><span class="divider">/</span></li>
    <li class="active ">Introduction <a href="https://github.com/apache/maven/tree/master/maven-model-builder/src\site\apt/index.apt"><img src="./images/accessories-text-editor.png" title="Edit" /></a></li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2020-09-07</li>
          <li id="projectVersion" class="pull-right">Version: 3.7.0-SNAPSHOT</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">Overview</li>
    <li class="active"><a href="#"><span class="none"></span>Introduction</a></li>
    <li><a href="apidocs/index.html" title="JavaDocs"><span class="none"></span>JavaDocs</a></li>
    <li><a href="xref/index.html" title="Source Xref"><span class="none"></span>Source Xref</a></li>
      <li class="nav-header">Reference</li>
    <li><a href="super-pom.html" title="Super POM"><span class="none"></span>Super POM</a></li>
      <li class="nav-header">Parent Project</li>
    <li><a href="../index.html" title="Apache Maven"><span class="none"></span>Apache Maven</a></li>
      <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-down"></span>Project Information</a>
    <ul class="nav nav-list">
    <li class="active"><a href="#"><span class="none"></span>About</a></li>
    <li><a href="summary.html" title="Summary"><span class="none"></span>Summary</a></li>
    <li><a href="dependency-info.html" title="Dependency Information"><span class="none"></span>Dependency Information</a></li>
    <li><a href="team.html" title="Team"><span class="none"></span>Team</a></li>
    <li><a href="scm.html" title="Source Code Management"><span class="none"></span>Source Code Management</a></li>
    <li><a href="issue-management.html" title="Issue Management"><span class="none"></span>Issue Management</a></li>
    <li><a href="mailing-lists.html" title="Mailing Lists"><span class="none"></span>Mailing Lists</a></li>
    <li><a href="dependency-management.html" title="Dependency Management"><span class="none"></span>Dependency Management</a></li>
    <li><a href="dependencies.html" title="Dependencies"><span class="none"></span>Dependencies</a></li>
    <li><a href="dependency-convergence.html" title="Dependency Convergence"><span class="none"></span>Dependency Convergence</a></li>
    <li><a href="ci-management.html" title="CI Management"><span class="none"></span>CI Management</a></li>
    <li><a href="plugin-management.html" title="Plugin Management"><span class="none"></span>Plugin Management</a></li>
    <li><a href="plugins.html" title="Plugins"><span class="none"></span>Plugins</a></li>
    <li><a href="distribution-management.html" title="Distribution Management"><span class="none"></span>Distribution Management</a></li>
    </ul>
</li>
      <li class="nav-header">Maven Projects</li>
    <li><a href="../../../archetype/index.html" title="Archetype"><span class="none"></span>Archetype</a></li>
    <li><a href="../../../resolver/index.html" title="Artifact Resolver"><span class="none"></span>Artifact Resolver</a></li>
    <li><a href="../../../doxia/index.html" title="Doxia"><span class="none"></span>Doxia</a></li>
    <li><a href="../../../jxr/index.html" title="JXR"><span class="none"></span>JXR</a></li>
    <li><a href="../../current" title="Maven"><span class="none"></span>Maven</a></li>
    <li><a href="../../../pom/index.html" title="Parent POMs"><span class="none"></span>Parent POMs</a></li>
    <li><a href="../../../plugins/index.html" title="Plugins"><span class="none"></span>Plugins</a></li>
    <li><a href="../../../plugin-testing/index.html" title="Plugin Testing"><span class="none"></span>Plugin Testing</a></li>
    <li><a href="../../../plugin-tools/index.html" title="Plugin Tools"><span class="none"></span>Plugin Tools</a></li>
    <li><a href="../../../apache-resource-bundles/index.html" title="Resource Bundles"><span class="none"></span>Resource Bundles</a></li>
    <li><a href="../../../scm/index.html" title="SCM"><span class="none"></span>SCM</a></li>
    <li><a href="../../../shared/index.html" title="Shared Components"><span class="none"></span>Shared Components</a></li>
    <li><a href="../../../skins/index.html" title="Skins"><span class="none"></span>Skins</a></li>
    <li><a href="../../../surefire/index.html" title="Surefire"><span class="none"></span>Surefire</a></li>
    <li><a href="../../../wagon/index.html" title="Wagon"><span class="none"></span>Wagon</a></li>
      <li class="nav-header">ASF</li>
    <li><a href="https://www.apache.org/foundation/how-it-works.html" class="externalLink" title="How Apache Works"><span class="none"></span>How Apache Works</a></li>
    <li><a href="https://www.apache.org/foundation/" class="externalLink" title="Foundation"><span class="none"></span>Foundation</a></li>
    <li><a href="https://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsoring Apache"><span class="none"></span>Sponsoring Apache</a></li>
    <li><a href="https://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks"><span class="none"></span>Thanks</a></li>
</ul>
<form id="search-form" action="https://www.google.com/search" method="get" >
  <input value="maven.apache.org/ref/3.7.0-SNAPSHOT/maven-model-builder/" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript">asyncJs( 'https://cse.google.com/brand?form=search-form' )</script>
          <hr />
          <div id="poweredBy">
            <div class="clear"></div>
            <div class="clear"></div>
    <div id="twitter">
    <a href="https://twitter.com/ASFMavenProject" class="twitter-follow-button" data-show-count="false" data-align="left" data-size="medium" data-show-screen-name="true" data-lang="en">Follow ASFMavenProject</a>
    <script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
            <div class="clear"></div>
            <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<div class="section">
<h2><a name="Maven_Model_Builder"></a>Maven Model Builder</h2>
<p>The effective model builder, with profile activation, inheritance, interpolation, ...</p>
<p>The main component is <tt>ModelBuilder</tt> (<a href="./apidocs/org/apache/maven/model/building/ModelBuilder.html">javadoc</a>, <a href="./xref/org/apache/maven/model/building/ModelBuilder.html">source</a>), with its <tt>DefaultModelBuilder</tt> implementation (<a href="./apidocs/org/apache/maven/model/building/DefaultModelBuilder.html">javadoc</a>, <a href="./xref/org/apache/maven/model/building/DefaultModelBuilder.html">source</a>) that manages the steps sequence.</p>
<p>The sequence is divided into 2 phases:</p>
<ul>
<li>phase 1
<ul>
<li>profile activation: see <a href="./apidocs/org/apache/maven/model/profile/activation/package-summary.html">available activators</a>. Notice that model interpolation hasn't happened yet, then interpolation for file-based activation is limited to <tt>${basedir}</tt> (since Maven 3), System properties and request properties</li>
<li>raw model validation: <tt>ModelValidator</tt> (<a href="./apidocs/org/apache/maven/model/validation/ModelValidator.html">javadoc</a>), with its <tt>DefaultModelValidator</tt> implementation (<a href="./xref/org/apache/maven/model/validation/DefaultModelValidator.html">source</a>)</li>
<li>model normalization - merge duplicates: <tt>ModelNormalizer</tt> (<a href="./apidocs/org/apache/maven/model/normalization/ModelNormalizer.html">javadoc</a>), with its <tt>DefaultModelNormalizer</tt> implementation (<a href="./xref/org/apache/maven/model/normalization/DefaultModelNormalizer.html">source</a>)</li>
<li>profile injection: <tt>ProfileInjector</tt> (<a href="./apidocs/org/apache/maven/model/profile/ProfileInjector.html">javadoc</a>), with its <tt>DefaultProfileInjector</tt> implementation (<a href="./xref/org/apache/maven/model/profile/DefaultProfileInjector.html">source</a>)</li>
<li>parent resolution until <a href="./super-pom.html">super-pom</a></li>
<li>inheritance assembly (see <a href="./index.html#Inheritance_Assembly">below</a>)</li>
<li>model interpolation (see <a href="./index.html#Model_Interpolation">below</a>)</li>
<li>url normalization: <tt>UrlNormalizer</tt> (<a href="./apidocs/org/apache/maven/model/path/UrlNormalizer.html">javadoc</a>), with its <tt>DefaultUrlNormalizer</tt> implementation (<a href="./xref/org/apache/maven/model/path/DefaultUrlNormalizer.html">source</a>)</li></ul></li>
<li>phase 2, with optional plugin processing
<ul>
<li>model path translation: <tt>ModelPathTranslator</tt> (<a href="./apidocs/org/apache/maven/model/path/ModelPathTranslator.html">javadoc</a>), with its <tt>DefaultModelPathTranslator</tt> implementation (<a href="./xref/org/apache/maven/model/path/DefaultModelPathTranslator.html">source</a>)</li>
<li>plugin management injection: <tt>PluginManagementInjector</tt> (<a href="./apidocs/org/apache/maven/model/management/PluginManagementInjector.html">javadoc</a>), with its <tt>DefaultPluginManagementInjector</tt> implementation (<a href="./xref/org/apache/maven/model/management/DefaultPluginManagementInjector.html">source</a>)</li>
<li><i>(optional)</i> lifecycle bindings injection: <tt>LifecycleBindingsInjector</tt> (<a href="./apidocs/org/apache/maven/model/plugin/LifecycleBindingsInjector.html">javadoc</a>), with its <tt>DefaultLifecycleBindingsInjector</tt> implementation in maven-core (<a href="./maven-core/xref/org/apache/maven/model/plugin/DefaultLifecycleBindingsInjector.html">source</a>)</li>
<li>dependency management import (for dependencies of type <tt>pom</tt> in the <tt>&lt;dependencyManagement&gt;</tt> section)</li>
<li>dependency management injection: <tt>DependencyManagementInjector</tt> (<a href="./apidocs/org/apache/maven/model/management/DependencyManagementInjector.html">javadoc</a>), with its <tt>DefaultDependencyManagementInjector</tt> implementation (<a href="./xref/org/apache/maven/model/management/DefaultDependencyManagementInjector.html">source</a>)</li>
<li>model normalization - inject default values: <tt>ModelNormalizer</tt> (<a href="./apidocs/org/apache/maven/model/normalization/ModelNormalizer.html">javadoc</a>), with its <tt>DefaultModelNormalizer</tt> implementation (<a href="./xref/org/apache/maven/model/normalization/DefaultModelNormalizer.html">source</a>)</li>
<li><i>(optional)</i> reports configuration: <tt>ReportConfigurationExpander</tt> (<a href="./apidocs/org/apache/maven/model/plugin/ReportConfigurationExpander.html">javadoc</a>), with its <tt>DefaultReportConfigurationExpander</tt> implementation (<a href="./xref/org/apache/maven/model/plugin/DefaultReportConfigurationExpander.html">source</a>)</li>
<li><i>(optional)</i> reports conversion to decoupled site plugin: <tt>ReportingConverter</tt> (<a href="./apidocs/org/apache/maven/model/plugin/ReportingConverter.html">javadoc</a>), with its <tt>DefaultReportingConverter</tt> implementation (<a href="./xref/org/apache/maven/model/plugin/DefaultReportingConverter.html">source</a>)</li>
<li><i>(optional)</i> plugins configuration: <tt>PluginConfigurationExpander</tt> (<a href="./apidocs/org/apache/maven/model/plugin/PluginConfigurationExpander.html">javadoc</a>), with its <tt>DefaultPluginConfigurationExpander</tt> implementation (<a href="./xref/org/apache/maven/model/plugin/DefaultPluginConfigurationExpander.html">source</a>)</li>
<li>effective model validation: <tt>ModelValidator</tt> (<a href="./apidocs/org/apache/maven/model/validation/ModelValidator.html">javadoc</a>), with its <tt>DefaultModelValidator</tt> implementation (<a href="./xref/org/apache/maven/model/validation/DefaultModelValidator.html">source</a>)</li></ul></li></ul>
<div class="section">
<h3><a name="Inheritance_Assembly"></a>Inheritance Assembly</h3>
<p>Inheritance Assembly consists in filling current model empty fields with values taken from parent model. It is done in <tt>InheritanceAssembler</tt> (<a href="./apidocs/org/apache/maven/model/inheritance/InheritanceAssembler.html">javadoc</a>), with its <tt>DefaultInheritanceAssembler</tt> implementation (<a href="./xref/org/apache/maven/model/inheritance/DefaultInheritanceAssembler.html">source</a>).</p>
<p>By default, every model field is inherited as-is from parent, with a few exceptions that are intentionally not inherited: <tt>modelVersion</tt>, <tt>artifactId</tt>, <tt>profiles</tt> (injected in phase 1) and <tt>prerequisites</tt>.</p>
<p>Notice that the 5 URLs from the model (<tt>project.url</tt>, <tt>project.scm.connection</tt>, <tt>project.scm.developerConnection</tt>, <tt>project.scm.url</tt> and <tt>project.distributionManagement.site.url</tt>) have a special inheritance handling:</p>
<ul>
<li>if not configured in current model, the inherited value is the parent's one with current artifact id appended,</li>
<li>since Maven 3.5.0, if <tt>project.directory</tt> POM property value is defined, it is used instead of artifact id: this permits default inheritance calculations when module directory name is not equal to artifact id. Notice that this property is not inherited from a POM to its child: childs POM will use child artifact id if property is not set.</li>
<li>since Maven 3.6.1, inheritance can avoid appending any path to parent value by setting model attribute value to <tt>false</tt> for each url: <tt>project/@child.project.url.inherit.append.path</tt>, <tt>project/distributionManagement/site/@child.site.url.inherit.append.path</tt>, <tt>project/scm/@child.scm.connection.inherit.append.path</tt>, <tt>project/scm/@child.scm.developerConnection.inherit.append.path</tt> and <tt>project/scm/@child.scm.url.inherit.append.path</tt>.</li></ul></div>
<div class="section">
<h3><a name="Model_Interpolation"></a>Model Interpolation</h3>
<p>Model Interpolation consists in replacing <tt>${...}</tt> with calculated value. It is done in <tt>StringSearchModelInterpolator</tt> (<a href="./apidocs/org/apache/maven/model/interpolation/StringSearchModelInterpolator.html">javadoc</a>, <a href="./xref/org/apache/maven/model/interpolation/StringSearchModelInterpolator.html">source</a>).</p>
<p>Notice that model interpolation happens <i>after</i> profile activation, then profile activation doesn't benefit from every values: interpolation for file-based activation is limited to <tt>${basedir}</tt> (which was introduced in Maven 3 and is not deprecated in this context), System properties and request properties.</p>
<p>Values are evaluated in sequence from different syntaxes:</p>
<table border="1" class="table table-striped">
<tr class="a">
<th align="left">value</th>
<th align="left">evaluation result</th>
<th align="left">common examples</th></tr>
<tr class="b">
<td align="left"><tt>project.*</tt>&#xa0;<br /><tt>pom.*</tt> (<i>deprecated</i>)&#xa0;<br /><tt>*</tt> (<i>deprecated</i>)</td>
<td align="left">POM content (see <a href="../maven-model/maven.html">POM reference</a>)</td>
<td align="left"><tt>${project.version}</tt>&#xa0;<br /><tt>${project.build.finalName}</tt>&#xa0;<br /><tt>${project.artifactId}</tt>&#xa0;<br /><tt>${project.build.directory}</tt></td></tr>
<tr class="a">
<td align="left"><tt>project.basedir</tt>&#xa0;<br /><tt>pom.basedir</tt> (<i>deprecated</i>)&#xa0;<br /><tt>basedir</tt> (<i>deprecated</i>)</td>
<td align="left">the directory containing the <tt>pom.xml</tt> file</td>
<td align="left"><tt>${project.basedir}</tt></td></tr>
<tr class="b">
<td align="left"><tt>project.baseUri</tt>&#xa0;<br /><tt>pom.baseUri</tt> (<i>deprecated</i>)</td>
<td align="left">the directory containing the <tt>pom.xml</tt> file as URI</td>
<td align="left"><tt>${project.baseUri}</tt></td></tr>
<tr class="a">
<td align="left"><tt>build.timestamp</tt>&#xa0;<br /><tt>maven.build.timestamp</tt></td>
<td align="left">the UTC timestamp of build start, in <tt>yyyy-MM-dd'T'HH:mm:ss'Z'</tt> default format, which can be overridden with <tt>maven.build.timestamp.format</tt> POM property</td>
<td align="left"><tt>${maven.build.timestamp}</tt></td></tr>
<tr class="b">
<td align="left"><tt>*</tt></td>
<td align="left">user properties, set from CLI with <tt>-Dproperty=value</tt></td>
<td align="left"><tt>${skipTests}</tt></td></tr>
<tr class="a">
<td align="left"><tt>*</tt></td>
<td align="left">model properties, such as project properties set in the pom</td>
<td align="left"><tt>${any.key}</tt></td></tr>
<tr class="b">
<td align="left"><tt>maven.home</tt></td>
<td align="left">The path to the current Maven home.</td>
<td align="left"><tt>${maven.home}</tt></td></tr>
<tr class="a">
<td align="left"><tt>maven.version</tt></td>
<td align="left">The version number of the current Maven execution <i>(since 3.0.4)</i>. For example, &quot;<tt>3.0.5</tt>&quot;.</td>
<td align="left"><tt>${maven.version}</tt></td></tr>
<tr class="b">
<td align="left"><tt>maven.build.version</tt></td>
<td align="left">The full build version of the current Maven execution <i>(since 3.0.4)</i>. For example, &quot;<tt>Apache Maven 3.2.2 (r01de14724cdef164cd33c7c8c2fe155faf9602da; 2013-02-19T14:51:28+01:00)</tt>&quot;.</td>
<td align="left"><tt>${maven.build.version}</tt></td></tr>
<tr class="a">
<td align="left"><tt>maven.repo.local</tt></td>
<td align="left">The repository on the local machine Maven shall use to store installed and downloaded artifacts (POMs, JARs, etc).</td>
<td align="left"><tt>${user.home}/.m2/repository</tt></td></tr>
<tr class="b">
<td align="left"><tt>*</tt></td>
<td align="left">Java system properties (see <a class="externalLink" href="http://download.oracle.com/javase/6/docs/api/java/lang/System.html#getProperties()">JDK reference</a>)</td>
<td align="left"><tt>${user.home}</tt>&#xa0;<br /><tt>${java.home}</tt></td></tr>
<tr class="a">
<td align="left"><tt>env.*</tt>&#xa0;<br /><tt>*</tt></td>
<td align="left">environment variables</td>
<td align="left"><tt>${env.PATH}</tt></td></tr>
<tr class="b">
<td align="left"><tt>settings.*</tt></td>
<td align="left">Local user settings (see <a href="../maven-settings/settings.html">settings reference</a>)</td>
<td align="left"><tt>${settings.localRepository}</tt></td></tr></table>
<div class="section">
<h4><a name="Notice"></a>Notice</h4>
<ul>
<li>after model interpolation, <tt>${...}</tt> content can remain in the model that will be evaluated later when setting plugin parameters. This happens in particular with <tt>settings.*</tt> values for <a href="../maven-settings/settings.html">Settings Model</a>,</li>
<li>encoding configuration have been defined as POM properties looking like POM content but not added to POM model to maintain compatibility with previous Maven versions:
<ul>
<li><tt>${project.build.sourceEncoding}</tt> for <a class="externalLink" href="https://cwiki.apache.org/confluence/display/MAVEN/POM+Element+for+Source+File+Encoding">source files encoding</a> (defaults to platform encoding)</li>
<li><tt>${project.reporting.outputEncoding}</tt> for <a class="externalLink" href="https://cwiki.apache.org/confluence/display/MAVENOLD/Reporting+Encoding+Configuration">reporting output files encoding</a> (defaults to <tt>UTF-8</tt>)</li></ul></li></ul></div></div></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2001&#x2013;2020
<a href="https://www.apache.org/">The Apache Software Foundation</a>.
All rights reserved.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
